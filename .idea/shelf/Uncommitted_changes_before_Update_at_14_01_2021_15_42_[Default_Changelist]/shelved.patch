Index: databse/db-creation.sql
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/databse/db-creation.sql b/databse/db-creation.sql
new file mode 100644
--- /dev/null	(date 1610635301660)
+++ b/databse/db-creation.sql	(date 1610635301660)
@@ -0,0 +1,86 @@
+use sql7386949;
+
+DROP TABLE ALLOWED_USER;
+DROP TABLE ANSWER;
+DROP TABLE CHOICE;
+DROP TABLE QUESTION;
+DROP TABLE POLL;
+DROP TABLE USER_;
+
+CREATE TABLE USER_
+(
+  USER_ID INT NOT NULL AUTO_INCREMENT,
+  USERNAME VARCHAR(50) NOT NULL,
+  EMAIL VARCHAR(50) NOT NULL,
+  PW VARCHAR(50) NOT NULL,ALLOWED_USER
+  PRIMARY KEY (USER_ID)
+);
+
+CREATE TABLE POLL
+(
+  POLL_ID INT NOT NULL AUTO_INCREMENT,
+  CREATOR_ID INT NOT NULL,
+  CREATION_DATE DATETIME NOT NULL,
+  EXPIRATION_DATE DATETIME NOT NULL,
+  POLL_TYPE BOOLEAN NOT NULL,
+  PRIMARY KEY (POLL_ID),
+  FOREIGN KEY (CREATOR_ID) REFERENCES USER_(USER_ID)
+);
+
+CREATE TABLE QUESTION
+(
+  QUESTION_ID INT NOT NULL AUTO_INCREMENT,
+  POLL_ID INT NOT NULL,
+  EXPIRATION_DATE DATETIME,
+  IS_OPEN BOOLEAN,
+  QTEXT VARCHAR(255) NOT NULL,
+  PRIMARY KEY (QUESTION_ID),
+  FOREIGN KEY (POLL_ID) REFERENCES POLL(POLL_ID)
+);
+
+CREATE TABLE CHOICE
+(
+  CHOICE_ID INT NOT NULL AUTO_INCREMENT,
+  QUESTION_ID INT NOT NULL,
+  CTEXT VARCHAR(255) NOT NULL,
+  PRIMARY KEY (CHOICE_ID),
+  FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION(QUESTION_ID)
+);
+
+CREATE TABLE ANSWER
+(
+  ANSWERD_ID INT NOT NULL AUTO_INCREMENT,
+  QUESTION_ID INT NOT NULL,
+  USER_ID INT NOT NULL,
+  CHOICE_ID INT NOT NULL,
+  PRIMARY KEY (ANSWERD_ID),
+  FOREIGN KEY (CHOICE_ID) REFERENCES CHOICE(CHOICE_ID),
+  FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION(QUESTION_ID),
+  FOREIGN KEY (USER_ID) REFERENCES USER_(USER_ID)
+);
+
+CREATE TABLE ALLOWED_USER
+(
+  USER_ID INT NOT NULL,
+  POLL_ID INT NOT NULL,
+  PRIMARY KEY (USER_ID, POLL_ID),
+  FOREIGN KEY (USER_ID) REFERENCES USER_(USER_ID),
+  FOREIGN KEY (POLL_ID) REFERENCES POLL(POLL_ID)
+);
+
+INSERT INTO USER_ VALUES (1, "ffilpa", "francesco.filpa01@universitadipavia.it", "ingsw2020");
+INSERT INTO USER_ VALUES (2, "fmaffia", "francesco.maffia01@universitadipavia.it", "2020swing");
+
+INSERT INTO POLL VALUES (1, 1, "2020-12-17 17:29:35", "2021-01-30 11:00:00", 0);
+
+INSERT INTO QUESTION VALUES (1, 1, "2021-01-30 11:00:00", 1, "A che squadra tieni?");
+
+INSERT INTO CHOICE VALUES (1, 1, "Milan");
+INSERT INTO CHOICE VALUES (2, 1, "Inter");
+INSERT INTO CHOICE VALUES (3, 1, "Juventus");
+INSERT INTO CHOICE VALUES (4, 1, "Napoli");
+
+INSERT INTO ALLOWED_USER VALUES (1, 1);
+INSERT INTO ALLOWED_USER VALUES (2, 1);
+
+INSERT INTO ANSWER VALUES (1, 1, 1, 3);
\ No newline at end of file
